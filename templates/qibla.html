{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/qibla.css') }}">
{% endblock %}

{% block content %}
<div class="qibla-container">
    <div class="qibla-header">
        <div class="location-info">
            <div class="location-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            </div>
            <div class="location-text">
                <h2 id="current-location">Detecting location...</h2>
            </div>
        </div>
        <div class="qibla-angle">
            <div class="angle-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2v7.5"></path><path d="m19 12-7.5-4"></path></svg>
            </div>
            <div class="angle-text">
                <h3>Qibla Direction</h3>
                <div id="qibla-degree">Calculating...</div>
            </div>
        </div>
    </div>

    <div class="compass-wrapper">
        <div class="compass-container">
            <div class="compass">
                <div class="compass-inner">
                    <!-- Cardinal directions -->
                    <div class="cardinal-point north">N</div>
                    <div class="cardinal-point east">E</div>
                    <div class="cardinal-point south">S</div>
                    <div class="cardinal-point west">W</div>
                    
                    <!-- Degree markers -->
                    <div class="degree-markers"></div>
                    
                    <!-- Compass rose -->
                    <div class="compass-rose">
                        <div class="rose-inner"></div>
                    </div>
                    
                    <!-- Qibla indicator -->
                    <div class="qibla-indicator">
                        <div class="kaaba-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="16" x="4" y="4"></rect><path d="M12 4v16"></path><path d="M4 12h16"></path></svg>
                        </div>
                        <div class="indicator-line"></div>
                    </div>
                    
                    <!-- Compass needle -->
                    <div class="compass-arrow">
                        <div class="arrow-north"></div>
                        <div class="arrow-center"></div>
                        <div class="arrow-south"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="instructions-card">
            <div class="instructions-header">
                <div class="instructions-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                </div>
                <h3>How to Use</h3>
            </div>
            <div class="instructions-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <p>Hold your device flat and parallel to the ground</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <p>Align the red arrow with magnetic North</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <p>The Kaaba icon shows the Qibla direction</p>
                </div>
            </div>
            <button id="calibrate-btn" class="calibrate-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path></svg>
                Calibrate Compass
            </button>
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/qibla.js') }}"></script>
<script src="{{ url_for('static', filename='js/base.js') }}"></script>
{% endblock %}